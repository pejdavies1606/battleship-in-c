cmake_minimum_required(VERSION 3.7)
include(ExternalProject)

set(PDCURSES_PREFIX pdcurses39)
set(PDCURSES_URL ${CMAKE_CURRENT_SOURCE_DIR}/PDCurses-3.9.tar.gz)
set(PDCURSES_URL_MD5 c6e81fe56e127ae9af6a6d9082f9eca7)

if (UNIX)
set(PDCURSES_CONFIGURE ./configure)
set(PDCURSES_MAKE make)
set(PDCURSES_SOURCE x11)
set(NCPU 4)
endif (UNIX)

ExternalProject_Add(${PDCURSES_PREFIX}
   PREFIX ${PDCURSES_PREFIX}
   URL ${PDCURSES_URL}
   URL_MD5 ${PDCURSES_URL_MD5}
   SOURCE_SUBDIR ${PDCURSES_SOURCE}
   CONFIGURE_COMMAND ${PDCURSES_CONFIGURE}
   BUILD_COMMAND ${PDCURSES_MAKE} -j${NCPU}
   BUILD_IN_SOURCE 1
   INSTALL_COMMAND ""
   LOG_DOWNLOAD 1
   LOG_BUILD 1
)

